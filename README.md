# test_ufm_automation
Автоматизация тестирования для test_ufm

### Summary:

**Использованы инструменты**: Java8, Maven 3.3, TestNG 6.13, Allure 1.5, 
Gson, MongoDB driver

**Проверки**: проверяется значения spentTotal, isBig, clientId с исходящих 
файлах и записи в MongoDB на основании расчитанных автотестом значений

**Примечание**: если было бы больше времени, был бы произведен рефакторинг: 
вынесены настройки MongoDB во внешний файл, улучшен генератор json файлов 
(добавлена динамическая генерация clientId, названия файлов и работа с ними), 
по возможности вынесены String'и в константы, добавлены тесты на 
сравнение производительности файлов с большим количеством подписчиков,
 и зависимость по количеству файлов. На основании этих тестов 
 строились графики зависимостей в виде allure отчета

### Требования 
 * `Java` version = 8
 * `Maven` verion >= 3.3

### Запуск:

**шаг 1 - необходимо запустить run_app.sh**. 
Этот скрипт скачает само приложение из репозитория, соберёт его и запустит.
После запуска необходимо дождаться, пока в консоли не появится вывод формата "2018-01-15 15:04:54.418  INFO 7436 --- [pool-1-thread-1] c.a.test_ufm.akka.scheduler.Scheduler    : Count files in input folder: 0
"

**шаг 2 - необходимо запустить run_test.sh**. - скрипт запустит тесты и сгенерирует отчет

### Отчет:
Отчет по прохождению тестов можно будет найти в: 

**корень_проекта/target/site/allure-maven-plugin.html**

из-за ограничений репортера **Allure** .html файл необходимо открывать в FireFox или Edge

